<!DOCTYPE html>
<html>

<head>
    <title>SoM-GPT4V</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="website/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="icon" href="website/img/som_logo.png" type="image/icon type">

    <script src="https://code.hcharts.cn/highcharts/highcharts.js"></script>
    <script src="https://code.hcharts.cn/highcharts/modules/exporting.js"></script>
    <script src="https://code.hcharts.cn/highcharts/modules/sankey.js"></script>
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
    <script type="module" src="https://gradio.s3-us-west-2.amazonaws.com/3.42.0/gradio.js"></script>>
</head>

<body>
    <div id="nav">
        <div id="icon">
            <a id="nav-button-kokomind" class="nav-button" href="#"><img src="website/img/som_logo.png" alt="som logo"
                    width="40" class="logo"> &nbsp; SoM-GPT4V
            </a>
        </div>
        <div>
            <a class="nav-button" href="#introduction">Introduction</a>
            <a class="nav-button" href="#playground">Playground</a>
            <a class="nav-button" href="#examples">Examples</a>
            <a class="nav-button" href="#results">Results</a>
            <!-- <a class="nav-button" href="#evaluation">Results</a>
            <a class="nav-button" href="#limitation">Limitations</a>
            <a class="nav-button" href="#license">License</a>
            <a class="nav-button" href="#acknowledgement">Acknowledgement</a> -->
            <a class="nav-button" href="#citation">Misc</a>
        </div>
    </div>
    <br>
    <div class="container" style="padding-left: 100px; padding-right: 100px;">
        <div class="myhead" style="margin-bottom: -1em;">
            <div class="row">

                <div class="row align-items-center">
                    <!-- <div class="col-md-2 d-flex align-items-center justify-content-center">
                        <img src="website/img/som.png" alt="som logo" width="80" class="logo">
                    </div> -->
                    <div class="col-md-11 offset-md-1 d-flex align-items-center">
                        <h1>
                            <span style="color: var(--koko-color)">
                                SoM
                            </span>
                            <span style="color: var(--mind-color)"></span>: Set-of-Mark Prompting <br> Unleashes Extraordinary Visual Grounding in GPT-4V
                        </h1>
                    </div>
                </div>
            </div>
            <div class="row">
                <h3 class="blog-author">
                    <a href="https://jwyang.github.io/" style="color:#00A4EF;font-weight:normal;">Jianwei
                        Yang<sup>*&#x2691;</sup></a>,
                    <a href="https://scholar.google.com/citations?user=B8hPxMQAAAAJ&hl=en"
                        style="color:#c86cdf;font-weight:normal;">Hao Zhang<sup>*</sup></a>,
                    <a href="https://fengli-ust.github.io/" style="color:#c86cdf;font-weight:normal;">Feng
                        Li<sup>*</sup></a>,
                    <a href="https://maureenzou.github.io/" style="color:#ec7c37;font-weight:normal;">Xueyan
                        Zou<sup>*</sup></a>,
                    <a href="https://chunyuan.li/" style="color:#00A4EF;font-weight:normal;">Chunyuan Li</a>,
                    <a href="https://www.microsoft.com/en-us/research/people/jfgao/"
                        style="color:#00A4EF;font-weight:normal;">Jianfeng Gao<sup></sup></a>
                </h3>
                <h3 class="blog-uni">
                    <span class="author-block"><b style="color:#00A4EF; font-weight:normal">&#x25B6 </b>Microsoft
                        Research, Redmond; </span>
                    <span class="author-block"><b style="color:#c86cdf; font-weight:normal">&#x25B6 </b>HKUST; </span>
                    <span class="author-block"><b style="color:#ec7c37; font-weight:normal">&#x25B6 </b> University of
                        Wisconsin-Madison; </b></span>
                </h3>
                <h3 class="blog-mark">
                    <span class="author-block"><sup>*</sup>Core Contribution, </span>
                    <span class="author-block"><sup>&#x2691;</sup>Project Lead </span>
                </h3>

                <p style="font-size: 16px; text-align: center; margin-top: -20px;">
                    <a href="https://arxiv.org/abs/2310.11441"><iconify-icon icon="simple-icons:arxiv"></iconify-icon> [arXiv]&nbsp&nbsp</a> <a href="https://github.com/microsoft/SoM"><i class="fa fa-github"></i>&nbsp[Code]</a>
                </p>
            </div>
        </div>
    </div>

    <br>
    <div class="container" style="padding-left: 130px; padding-right: 130px;">
        <section id="introduction">
            <br>
            <br>
            <h2>Introduction </h2>
            <p style="padding-left: 30px; padding-right: 30px;">We present Set-of-Mark (SoM), simply overlaying a number of spatial and speakable marks on the images, to unleash the
                visual grounding abilities of large multimodal models (LMMs), such as GPT-4V. 
            </p>
            <br>
            <img src="website/img/teaser.png" alt="Image" style="width:90%; display: block; margin: 0 auto;"">

        </section>
        <br>
        <br>
        <section id=" playground">
            <h2>SoM ToolBox </h2>
                <p style="padding-left: 30px; padding-right: 30px;">We provide a ToolBox <a href="website/img/SoM-Playground.pdf">[Instruction]</a> to help you generate marked image prompts. Try SoM prompts on <a href="https://chat.openai.com/">Chat GPT4-v</a>!
            </p>
            <div class="container is-max-desktop" id="gradio">
                <gradio-app src="https://8841a5aee334a06227.gradio.live"></gradio-app>
            </div>
            <div class="code-box">
                <code>
                    <p style="color: gray; font-family: 'Courier New', Courier, monospace;"># Text prompts to GPT-4V for the SoM examples:</p>
                    - Example1: What is on the left side of the right laptop? <br>
                    - Example2: Can you count how many fruits and what are the categories in the basket?
                </code>
            </div>
        </section>

        <section id="examples">
            <br>
            <br>
            <h2>Examples </h2>
            <div class="chat-container">
                <h5><b>GPT-4V Mobile (left) v.s. GPT-4V + SoM (right):</b></h5>
                <div class="row">
                    <div class="column">
                        <div class="message user">
                            <img src="website/img/gpt4v-bake.jpg" alt="Image" style="width:100%;">
                        </div>
                        <div class="message user">
                            <p><b>User: </b><br>
                                Can you list the categories of each mark with spatial identifier?
                            </p>
                        </div>            
                        <div class="message assistant">
                            <p><b>GPT4-V:</b>
                            <br><br>
                            Of course! Here's a list of the marked items based on the image you provided, identified by the numbers and letters you've drawn: <br>
                            (1) - A potted plant. <br>
                            (2) - Grapes on the grill. <br> 
                            (3) - Red chili or pepper. <br>
                            (4) - Another potted plant. <br>
                            (5) - An item which looks like a pitcher or jug. <br>
                            (6) - A piece of raw meat (possibly steak) on a stick. <br>
                            (7) - Cooked meat. <br>
                            (a) - A bowl filled with grapes. <br>
                            (b) - Grill mesh/cover. <br>
                            Let me know if you need more details about any specific item!
                            </p>
                        </div>
                    </div>
                    <div class="column">
                        <div class="message user">
                            <img src="website/img/gpt4v-bake-som.png" alt="Image" style="width:100%;">
                        </div>
                        <div class="message user">
                            <p><b>User: </b><br>
                                Can you list the categories of each mark with spatial identifier?
                            </p>
                        </div>                        
                        <div class="message assistant2">
                            <p>
                            <b>GPT-4V (SoM):</b> 
                            <br><br>
                            Certainly! Here's a breakdown of the objects in the image based on the spatial identifiers: <br>

                            1. Table surface (with some liquid spill) <br>
                            2. Purple bowl (with two different sections numbered as 2) <br>
                            3. Pink container with a dipping sauce and a wooden stick <br>
                            4. Grilled items (appear to be seafood, possibly eel or a similar fish) <br>
                            5. Potted plant <br>
                            6. Gray cup or mug <br>
                            7. Grill with hot coals <br>
                            10. Cluster of grapes on the grill <br>
                            11. Packaged food item (possibly meat) <br>
                            12. Lavender or similar herb in a purple pot <br>
                            13. Bowl of green grapes <br>
                            14. Outdoor setting with trees and railing <br>
                            15. Single red grape on the grill <br>

                            I hope this helps! If you have any other questions, feel free to ask.                        </div>
                            </p>

                    </div>
                </div>            

            <div class="chat-container">
                <h5><b>GPT-4V (left) v.s. GPT-4V + SoM (right):</b></h5>
                <div class="row">
                    <div class="column">
                        <div class="message user">
                            <img src="website/img/dish_lemon.jpeg" alt="Image" style="width:100%;">
                        </div>
                        <div class="message user">
                            <p>
                                <b>User:</b><br>
                                What is in this dish?
                            </p>
                        </div>                        
                        <div class="message assistant">
                            <p>
                            <b>GPT4-V</b>: 
                            <br>
                            <br>
                            The dish appears to feature: <br>
                            &#183; A grilled or pan-seared fish fillet, which looks like it could be a type of white fish,
                                possibly
                                sea bass, cod, or halibut. 
                            &#183; Asparagus spears. <br>
                            &#183; Potatoes, possibly roasted or boiled. <br>
                            &#183; A wedge of lemon for squeezing over the dish. <br>
                            &#183; Garnished with fresh parsley or cilantro leaves. <br>
                            &#183; There might be a light sauce or seasoning drizzled over the fish and vegetables, but
                                it's hard to specify its ingredients from the image alone. <br>
                            This looks like a delicious and healthy meal!</p>
                        </div>
                    </div>
                    <div class="column">
                        <div class="message user">
                            <img src="website/img/dish_som.jpg" alt="Image" style="width:100%;">
                        </div>
                        <div class="message user">
                            <p>
                                <b>User:</b><br>
                                What is in this dish?
                            </p>
                        </div>                          
                        <div class="message assistant2">
                            <p>
                            <b>GPT-4V (SoM):</b>
                            <br>
                            <br>
                            Here's a description of the items in the dish: <br>
                            1. Fish Fillet: The main component of the dish appears to be a fillet of fish, likely grilled or pan-seared. <br>
                            2. Lemon Wedge: A common accompaniment with fish dishes to enhance flavor when squeezed over the top. <br>
                            3. Parsley or Cilantro: This green herb is used as a garnish and can add a fresh flavor to dishes. <br>
                            4. Asparagus: These green stalks are often steamed, salted, or grilled and served as a side. <br>
                            5. Sauce or Broth: There is a yellowish sauce or broth on the plate. <br>
                            6. Potato: It looks like a roasted or boiled potato. <br>
                            7. Garnish: These could be green onions or chives scattered on the plate to add color and flavor. <br>
                            8. Sauce or Oil Drizzle: There's a darker drizzle around the potato, which could be a type of sauce or perhaps a balsamic reduction. <br>

                            The dish seems to be a well-balanced meal with a protein (fish), vegetables (asparagus and potato), and various flavor enhancers (sauces, lemon, and herbs).
                        </div>
                    </div>
                </div>

                <!-- Add more dialogues here as desired -->
            </div>

            <div class="chat-container">
                <h5><b>GPT-4V (left) v.s. GPT-4V + SoM (right):</b></h5>
                <div class="row">
                    <div class="column">
                        <div class="message user">
                            <img src="website/img/foods.jpg" alt="Image" style="width:100%;">                               
                        </div>
                        <div class="message user">                   
                            <p>
                                <b>User:</b> 
                                <br>
                                I am on a diet, what are the top things I should avoid eating?
                            </p>                            
                        </div>                        
                        <div class="message assistant">
                            <p>
                            <b>GPT4-V:</b>
                            <br>
                            <br>
                            If you're on a diet, it would depend on the specific type of diet you're following. However, based on the image you provided, here are some common items that many diets might limit or avoid: <br>
                            &#183; Burgers: Especially if made with high-fat meats or served with cheese and mayonnaise. <br>
                            &#183; Fries: Deep-fried foods are typically high in calories and unhealthy fats. <br>
                            &#183; Chips: Can be high in salt and fats, especially if they're commercially produced. <br>
                            &#183; Onion rings: Another deep-fried item. <br>
                            &#183; Sandwiches with white bread: Many diets recommend whole grains over refined grains. <br>
                            &#183; Processed meats: Like the ham in the sandwich, as they can be high in sodium and preservatives. <br>
                            &#183; Sauces: Some can be high in sugar, sodium, or unhealthy fats. <br>
                            &#183; Soft drinks or sweetened beverages: High in sugars and empty calories. <br>
                            Always consult with a nutritionist or dietician to get guidance tailored to your specific needs and health goals. They can provide recommendations based on your diet and personal health objectives.</p>
                        </div>
                    </div>
                    <div class="column">
                        <div class="message user">
                            <img src="website/img/foods_som.jpg" alt="Image" style="width:100%;">                               
                        </div>
                        <div class="message user">                   
                            <p>
                                <b>User:</b> 
                                <br>
                                I am on a diet, what are the top things I should avoid eating?
                            </p>                            
                        </div>                                                   
                        <div class="message assistant2">
                            <p>
                            <b>GPT-4V (SoM):</b>
                            <br>
                            <br>
                            Based on the typical diet considerations, here are the top items from the provided image that you should most likely avoid or limit: <br>
                            1. <b>Onion rings (1 and 11)</b> - Fried foods like these are often high in unhealthy fats and calories. <br>
                            2. <b>Fries (8)</b> - Another fried item that can be calorie-dense and contain unhealthy fats. <br>
                            3. <b>Burgers (3 and 5)</b> - Depending on their composition, they can be high in calories, unhealthy fats, and may contain processed meats. <br>
                            4. <b>Processed meats (2 and 15)</b> - These can be high in sodium, unhealthy fats, and other additives. <br>
                            5. <b>Chips (16)</b> - Typically high in unhealthy fats and can be calorie-dense.: There is a yellowish sauce or broth on the plate. <br>

                            While indulging occasionally is okay, it's best to consume these items in moderation if you're trying to maintain a healthy diet.
                        </div>
                    </div>
                </div>

                <!-- Add more dialogues here as desired -->
            </div>            
        </section>

        <section id="results">
            <h2>Results</h2>
            <p>
                <img src="website/img/results2.png" alt="Image" style="width:80%; display: block; margin: 0 auto;">
                <img src="website/img/results.png" alt="Image" style="width:80%; display: block; margin: 0 auto;">
            </p>
        </section>

        <section id="citation">
            <h2>Citation</h2>
            <bib>
                @misc{yang2023setofmark, <br>
                &nbsp&nbsp title = {Set-of-Mark Prompting Unleashes Extraordinary Visual Grounding in GPT-4V}, <br>
                &nbsp&nbsp url = {https://arxiv.org/abs/2310.11441}, <br>
                &nbsp&nbsp author={Jianwei Yang and Hao Zhang and Feng Li and Xueyan Zou and Chunyuan Li and Jianfeng Gao}, <br>
                &nbsp&nbsp eprint={2310.11441}, <br>
                &nbsp&nbsp year = {2023}, <br>
                &nbsp&nbsp archivePrefix={arXiv}, <br>
                &nbsp&nbsp primaryClass={cs.CV} <br>
                }
            </bib>
        </section>

        <!-- <script src="website/scripts.js"></script> -->
    </div>
    <!-- <footer>
        <p>Thank you for visiting our webpage.</p>
        <p>To see the code for our project, please visit our GitHub repository at: <a href="[insert link here]">[insert
                link here]</a></p>
    </footer> -->
</body>

</html>
